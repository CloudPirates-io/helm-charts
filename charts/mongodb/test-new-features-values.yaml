# Test values for all new features
shardedCluster:
  enabled: true
  shards: 2
  keyFile: "XtH1lFsJ7dWLs6g505vm58ragksPl6OZ6x0i3lkrUNchb8YXNTwxMvVyxmoizawLUYn78RlKr83Rmg9UK4HeAg=="

  configsvr:
    replicaCount: 1
    persistence:
      size: 1Gi
      # New feature: retention policy for config servers
      persistentVolumeClaimRetentionPolicy:
        whenDeleted: Retain
        whenScaled: Retain

  mongos:
    replicaCount: 1
    resources:
      limits:
        memory: 512Mi
        cpu: 500m
      requests:
        memory: 256Mi
        cpu: 100m

  shardsvr:
    replicaCount: 1
    persistence:
      size: 2Gi
      # New feature: retention policy for shard servers
      persistentVolumeClaimRetentionPolicy:
        whenDeleted: Retain
        whenScaled: Retain

  # New feature: cluster-wide read/write concern
  initialization:
    defaultReadConcern: "majority"
    defaultWriteConcern: "majority"

# New feature: Performance tuning parameters (apply to all deployment modes)
performance:
  wiredTigerCacheSizeGB: 0.25
  oplogSizeMB: 512
  maxIncomingConnections: 1000

# New feature: Advanced MongoDB setParameter options
setParameter:
  enableLocalhostAuthBypass: "true"
  enableFlowControl: "true"

auth:
  enabled: true
  rootPassword: testpassword123

persistence:
  # New feature: retention policy for standalone/replica set mode
  persistentVolumeClaimRetentionPolicy:
    whenDeleted: Retain
    whenScaled: Retain
